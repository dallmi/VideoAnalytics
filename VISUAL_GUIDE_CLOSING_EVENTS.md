# ğŸ“Š Visual Guide: Why Closing Events Matter & Max Position Tracking

## ğŸ¯ Core Concept Visualization

### The Fundamental Rule

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WATCH TIME IS ONLY COUNTED BETWEEN EVENT PAIRS             â”‚
â”‚                                                              â”‚
â”‚  âœ… VALID PAIRS (Counted):                                  â”‚
â”‚     â€¢ video_play    â†’  video_pause                          â”‚
â”‚     â€¢ video_play    â†’  video_ended                          â”‚
â”‚     â€¢ video_resume  â†’  video_pause                          â”‚
â”‚     â€¢ video_resume  â†’  video_ended                          â”‚
â”‚                                                              â”‚
â”‚  âŒ INVALID (Not Counted):                                  â”‚
â”‚     â€¢ video_play    â†’  [nothing]                            â”‚
â”‚     â€¢ video_resume  â†’  [nothing]                            â”‚
â”‚     â€¢ video_pause   â†’  video_resume  (no watching here)     â”‚
â”‚     â€¢ video_pause   â†’  video_play    (new segment)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¬ Peter's Journey - Step by Step

### Timeline Visualization

```
Video Timeline:    0s â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ 30s â”€â”€â”€â”€â”€â”€â”€â”€â†’ 300s (end)
                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                   |    First Watch      |   Video Length  |
                   |    (30 seconds)     |   (5 minutes)   |


ğŸ¥ Event Sequence:

Time: 10:00:00                     10:00:30              10:00:35              10:01:05
Event: â–¶ï¸ PLAY                      â¸ï¸ PAUSE              â–¶ï¸ RESUME             âŒ CLOSE
Position: 0s                        30s                   20s                   ~50s
      â”‚                             â”‚                     â”‚                     â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚                     â”‚
              âœ… VALID PAIR                                â”‚                     â”‚
           Watching: 0s â†’ 30s                              â”‚                     â”‚
           Counted: 30 seconds                             â”‚                     â”‚
                                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                               âŒ INVALID PAIR
                                                            Resume â†’ [nothing]
                                                            Not counted: 0 seconds
```

### What Actually Happened vs What Gets Counted

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  REALITY (What Peter Actually Did)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  0s â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â–º 30s                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Watched 30s â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚                                                                          â”‚
â”‚  30s âŸ² (rewind) 20s (instant, no watching)                             â”‚
â”‚                                                                          â”‚
â”‚  20s â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â–º 50s                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€ Watched 30s more â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚                                                                          â”‚
â”‚  Total actual watch time: 60 seconds                                    â”‚
â”‚  Max position reached: 30s (before rewind)                              â”‚
â”‚  Final position: ~50s (when browser closed)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WHAT SCRIPT COUNTS (Based on Event Pairs)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  Segment 1: play(0s) â†’ pause(30s)                                       â”‚
â”‚  0s â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â–º 30s                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€ âœ… COUNTED: 30s â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚                                                                          â”‚
â”‚  [Rewind detected: 30s â†’ 20s, but no watching happened]                â”‚
â”‚                                                                          â”‚
â”‚  Segment 2: resume(20s) â†’ [browser close, no event]                     â”‚
â”‚  20s â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â–º ~50s                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€ âŒ NOT COUNTED: 0s â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚           (No closing event!)                                            â”‚
â”‚                                                                          â”‚
â”‚  Total counted watch time: 30 seconds                                   â”‚
â”‚  Max position tracked: 30s (from pause event)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Understanding Max Position vs Watch Time

### Important Distinction

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MAX POSITION â‰  WATCH TIME                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  maxPosition:     Furthest point reached in video                â”‚
â”‚                   (from ANY event with currentTime)              â”‚
â”‚                                                                   â”‚
â”‚  totalWatchTime:  Only counted from VALID EVENT PAIRS            â”‚
â”‚                   (requires both start AND end event)            â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Peter's Example

```
Events:
  â–¶ï¸  play(0s)
  â¸ï¸  pause(30s)     â† maxPosition = 30s
  â–¶ï¸  resume(20s)
  âŒ [close]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  maxPosition = 30s                                      â”‚
â”‚  (Highest currentTime value from any event)             â”‚
â”‚                                                          â”‚
â”‚  totalWatchTime = 30s                                   â”‚
â”‚  (Only from valid pair: playâ†’pause)                     â”‚
â”‚                                                          â”‚
â”‚  completionPercentage = (30 / 300) * 100 = 10%         â”‚
â”‚  (Based on maxPosition)                                 â”‚
â”‚                                                          â”‚
â”‚  watchPercentage = (30 / 300) * 100 = 10%              â”‚
â”‚  (Based on totalWatchTime)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ­ Scenario Comparison: The Rewind Question

### Scenario A: Peter's Actual Journey (Rewind then Close)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Events: play(0) â†’ pause(30) â†’ resume(20) â†’ [close]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Video Position Timeline:
0s â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º 30s âŸ² 20s â•â•â•â•â•â•â•â•â•â•â–º 50s (close)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   âœ… Segment 1: 30s counted  â”‚     â”‚  âŒ Lost: 30s    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Max Position Tracking:
  Event 1 (play):   maxPosition = 0s
  Event 2 (pause):  maxPosition = 30s  â† Highest!
  Event 3 (resume): maxPosition = 30s  (still 30s, because 20 < 30)
  [close]:          maxPosition = 30s  (no event to update)

Result:
  totalWatchTime:      30s
  maxPosition:         30s    â† Uses highest position (30), not last (20)
  watchPercentage:     10%
  completionPercentage: 10%
```

### Scenario B: No Rewind, Just Forward (then Close)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Events: play(0) â†’ pause(30) â†’ resume(30) â†’ [close at 60s]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Video Position Timeline:
0s â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º 30s â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–º 60s (close)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   âœ… Segment 1: 30s counted  â”‚   â”‚  âŒ Lost: 30s        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Max Position Tracking:
  Event 1 (play):   maxPosition = 0s
  Event 2 (pause):  maxPosition = 30s
  Event 3 (resume): maxPosition = 30s  (30 â‰¥ 30, no change)
  [close]:          maxPosition = 30s  (no event to update)

Result:
  totalWatchTime:       30s     (Same as Scenario A!)
  maxPosition:          30s     (No event at 60s to update this)
  watchPercentage:      10%
  completionPercentage: 10%
```

---

## ğŸš¨ Critical Insight: The Closing Event Problem

### Visual Representation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WITHOUT CLOSING EVENT:                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â–¶ï¸ resume(20s)  â”€â”€â”€â†’  âŒ [browser close at ~50s]                  â”‚
â”‚                                                                     â”‚
â”‚  What we KNOW:                                                     â”‚
â”‚    â€¢ User pressed resume at 20s                                    â”‚
â”‚    â€¢ Browser closed (no event)                                     â”‚
â”‚                                                                     â”‚
â”‚  What we DON'T KNOW:                                               â”‚
â”‚    â€¢ Where did user actually stop watching?                        â”‚
â”‚    â€¢ Did they watch to 50s? 40s? 21s?                             â”‚
â”‚    â€¢ Did they pause first then close?                              â”‚
â”‚    â€¢ Did they immediately close after resume?                      â”‚
â”‚                                                                     â”‚
â”‚  Script Decision: CONSERVATIVE APPROACH                            â”‚
â”‚    âŒ Don't count this segment at all                              â”‚
â”‚    âŒ Don't guess or estimate                                      â”‚
â”‚    âœ… Only count what we KNOW for certain                          â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WITH CLOSING EVENT:                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â–¶ï¸ resume(20s)  â”€â”€â”€â†’  â¸ï¸ pause(50s)  â”€â”€â”€â†’  âŒ [close]            â”‚
â”‚                                                                     â”‚
â”‚  What we KNOW:                                                     â”‚
â”‚    â€¢ User pressed resume at 20s                                    â”‚
â”‚    â€¢ User pressed pause at 50s                                     â”‚
â”‚    â€¢ User watched from 20s to 50s                                  â”‚
â”‚                                                                     â”‚
â”‚  Script Decision:                                                  â”‚
â”‚    âœ… Count this segment: 50 - 20 = 30 seconds                     â”‚
â”‚    âœ… Update maxPosition to 50s                                    â”‚
â”‚    âœ… We KNOW this is accurate                                     â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š The Max Position Question - Detailed Example

### Why Max Position Uses 30s (Not 20s After Rewind)

```
Event Sequence with Max Position Tracking:

Event 1: â–¶ï¸ play(0s)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ currentTime: 0s                    â”‚
â”‚ maxPosition: 0s                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Event 2: â¸ï¸ pause(30s)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ currentTime: 30s                   â”‚
â”‚ maxPosition: MAX(0s, 30s) = 30s âœ… â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Event 3: â–¶ï¸ resume(20s)  [User rewound!]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ currentTime: 20s                   â”‚
â”‚ maxPosition: MAX(30s, 20s) = 30s  â”‚ â† Still 30s!
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Browser closes - no event]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Final maxPosition: 30s             â”‚
â”‚ (No new event to update it)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

The Code:
maxPosition = _max("currentTime")  // Takes the highest value
```

---

## ğŸ¨ Complete Example Matrix

Let me show you ALL the scenarios side-by-side:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Scenario â”‚ Event Sequence              â”‚ Watch   â”‚ Max Pos â”‚ Counted % â”‚
â”‚          â”‚                             â”‚ Time    â”‚         â”‚           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    1     â”‚ play(0) â†’ pause(30)         â”‚ 30s âœ…  â”‚ 30s     â”‚ 10%       â”‚
â”‚          â”‚                             â”‚         â”‚         â”‚           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    2     â”‚ play(0) â†’ pause(30)         â”‚ 30s âœ…  â”‚ 30s     â”‚ 10%       â”‚
â”‚          â”‚ â†’ resume(30) â†’ [close]      â”‚   0s âŒ â”‚         â”‚           â”‚
â”‚          â”‚                             â”‚ = 30s   â”‚         â”‚           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    3     â”‚ play(0) â†’ pause(30)         â”‚ 30s âœ…  â”‚ 30s     â”‚ 10%       â”‚
â”‚          â”‚ â†’ resume(20) â†’ [close]      â”‚   0s âŒ â”‚         â”‚           â”‚
â”‚          â”‚ [Your scenario]             â”‚ = 30s   â”‚         â”‚           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    4     â”‚ play(0) â†’ pause(30)         â”‚ 30s âœ…  â”‚ 50s     â”‚ 20%       â”‚
â”‚          â”‚ â†’ resume(20) â†’ pause(50)    â”‚  30s âœ… â”‚         â”‚           â”‚
â”‚          â”‚                             â”‚ = 60s   â”‚         â”‚           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    5     â”‚ play(0) â†’ [close at 30s]    â”‚  0s âŒ  â”‚  0s     â”‚ 0%        â”‚
â”‚          â”‚                             â”‚         â”‚         â”‚           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    6     â”‚ play(0) â†’ pause(30)         â”‚ 30s âœ…  â”‚ 80s     â”‚ 27%       â”‚
â”‚          â”‚ â†’ resume(30) â†’ pause(80)    â”‚  50s âœ… â”‚         â”‚           â”‚
â”‚          â”‚                             â”‚ = 80s   â”‚         â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Key:
âœ… = Segment counted (has closing event)
âŒ = Segment NOT counted (missing closing event)
```

---

## ğŸ”¬ Deep Dive: Why Scenario 3 and 4 Differ

### Scenario 3: Rewind + Browser Close (Your Question)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  play(0) â†’ pause(30) â†’ resume(20) â†’ [close]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step-by-step:

1ï¸âƒ£  Segment: play(0) â†’ pause(30)
    âœ… Valid pair
    Watch time: 30 - 0 = 30s
    Running total: 30s

2ï¸âƒ£  Segment: resume(20) â†’ [nothing]
    âŒ Invalid (no closing event)
    Watch time: Cannot calculate
    Running total: 30s (unchanged)

Final Metrics:
  totalWatchTime: 30s
  maxPosition: 30s     â† MAX(0, 30, 20) = 30
  watchPercentage: 10%
  completionPercentage: 10%
```

### Scenario 4: Rewind + Pause Before Close

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  play(0) â†’ pause(30) â†’ resume(20) â†’ pause(50)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step-by-step:

1ï¸âƒ£  Segment: play(0) â†’ pause(30)
    âœ… Valid pair
    Watch time: 30 - 0 = 30s
    Running total: 30s

2ï¸âƒ£  Segment: resume(20) â†’ pause(50)
    âœ… Valid pair (has closing event!)
    Watch time: 50 - 20 = 30s
    Running total: 60s

Final Metrics:
  totalWatchTime: 60s
  maxPosition: 50s     â† MAX(0, 30, 20, 50) = 50
  watchPercentage: 20%
  completionPercentage: 16.7%

The ONLY difference: One â¸ï¸ pause event at the end!
```

---

## ğŸ’¡ The Golden Rule Visualized

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    THE GOLDEN RULE                               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                  â•‘
â•‘  To count watch time, you need TWO events:                      â•‘
â•‘                                                                  â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â•‘
â•‘  â”‚  START   â”‚   â”€â”€â”€â†’  â”‚   END    â”‚                              â•‘
â•‘  â”‚  EVENT   â”‚         â”‚  EVENT   â”‚                              â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â•‘
â•‘   play/resume         pause/ended                               â•‘
â•‘                                                                  â•‘
â•‘  Without BOTH events, we cannot know how much time passed!      â•‘
â•‘                                                                  â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â•‘
â•‘  â”‚  START   â”‚   â”€â”€â”€â†’  â”‚    ?     â”‚  â† NO CLOSING EVENT          â•‘
â•‘  â”‚  EVENT   â”‚         â”‚          â”‚                              â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â•‘
â•‘   play/resume         [nothing]                                 â•‘
â•‘                                                                  â•‘
â•‘  Result: âŒ Cannot count this segment                           â•‘
â•‘          âŒ Watch time = 0                                       â•‘
â•‘          âœ… maxPosition still updated from previous events      â•‘
â•‘                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ¯ Why Max Position Matters

### Use Cases for Max Position

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  maxPosition tells you:                                          â”‚
â”‚  â€¢ How far into the video did the user get?                     â”‚
â”‚  â€¢ What's the furthest point they reached?                      â”‚
â”‚  â€¢ Did they skip to the end? (maxPosition â‰ˆ videoDuration)      â”‚
â”‚  â€¢ Where did they drop off?                                     â”‚
â”‚                                                                  â”‚
â”‚  totalWatchTime tells you:                                      â”‚
â”‚  â€¢ How much time did they actually spend watching?              â”‚
â”‚  â€¢ How engaged were they?                                       â”‚
â”‚  â€¢ Can calculate: minutes watched, watch percentage             â”‚
â”‚                                                                  â”‚
â”‚  Both metrics are important but measure different things!       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example Where They Differ

```
User skips around a lot:

play(0) â†’ pause(10)      âœ… 10s watched, maxPos = 10s
resume(50) â†’ pause(60)   âœ… 10s watched, maxPos = 60s
resume(100) â†’ pause(110) âœ… 10s watched, maxPos = 110s

Results:
  totalWatchTime: 30s            (10 + 10 + 10)
  maxPosition: 110s              (furthest point reached)
  
  watchPercentage: 10%           (30 / 300)
  completionPercentage: 36.7%    (110 / 300)
  
User explored 36.7% of the video but only watched 10% of it!
```

---

## ğŸ“± Real-World Analogy

Think of it like a fitness tracker:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MAX POSITION = Furthest distance from home                  â”‚
â”‚    (Where did you go?)                                       â”‚
â”‚                                                              â”‚
â”‚  WATCH TIME = Actual time spent walking                     â”‚
â”‚    (How long were you active?)                              â”‚
â”‚                                                              â”‚
â”‚  You might walk to a location 5km away (maxPosition = 5km)  â”‚
â”‚  But if you run there, you only spent 20 minutes active     â”‚
â”‚    (totalWatchTime = 20 min)                                â”‚
â”‚                                                              â”‚
â”‚  Or you might walk around your neighborhood for 1 hour      â”‚
â”‚    (totalWatchTime = 60 min)                                â”‚
â”‚  But only get 1km from home                                 â”‚
â”‚    (maxPosition = 1km)                                      â”‚
â”‚                                                              â”‚
â”‚  Both metrics tell you something different!                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¬ Final Visual Summary

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           PETER'S VIDEO SESSION - COMPLETE BREAKDOWN             â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                  â•‘
â•‘  Video Timeline: 0s â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ 300s (5 minutes)             â•‘
â•‘                                                                  â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ 10:00:00 â”‚ â–¶ï¸ PLAY at 0s                                   â”‚ â•‘
â•‘  â”‚          â”‚ â†“ (watching...)                                 â”‚ â•‘
â•‘  â”‚          â”‚ 0s â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â–º 30s          â”‚ â•‘
â•‘  â”‚          â”‚                                                  â”‚ â•‘
â•‘  â”‚ 10:00:30 â”‚ â¸ï¸ PAUSE at 30s                                 â”‚ â•‘
â•‘  â”‚          â”‚ âœ… COUNTED: 30 seconds                          â”‚ â•‘
â•‘  â”‚          â”‚ maxPosition = 30s                               â”‚ â•‘
â•‘  â”‚          â”‚                                                  â”‚ â•‘
â•‘  â”‚ 10:00:35 â”‚ â–¶ï¸ RESUME at 20s (rewound 10s)                  â”‚ â•‘
â•‘  â”‚          â”‚ â†“ (watching...)                                 â”‚ â•‘
â•‘  â”‚          â”‚ 20s â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â–º ~50s        â”‚ â•‘
â•‘  â”‚          â”‚                                                  â”‚ â•‘
â•‘  â”‚ 10:01:05 â”‚ âŒ BROWSER CLOSE (no event sent)                â”‚ â•‘
â•‘  â”‚          â”‚ âŒ NOT COUNTED: 0 seconds                       â”‚ â•‘
â•‘  â”‚          â”‚ maxPosition = 30s (unchanged - no event)        â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                  â•‘
â•‘  FINAL METRICS:                                                 â•‘
â•‘    totalWatchTime:        30s                                   â•‘
â•‘    maxPositionReached:    30s  â† Uses highest, not last!        â•‘
â•‘    watchPercentage:       10%                                   â•‘
â•‘    completionPercentage:  10%                                   â•‘
â•‘    totalBackwardSkips:    1                                     â•‘
â•‘    engagementScore:       3.5                                   â•‘
â•‘    engagementTier:        Minimal                               â•‘
â•‘                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ”‘ Key Takeaways

1. **Closing Event Requirement**
   - âœ… Watch time only counted with BOTH start and end events
   - âŒ Missing closing event = segment not counted
   - This is CONSERVATIVE but ACCURATE

2. **Max Position Tracking**
   - Always tracks the HIGHEST position reached
   - Unaffected by rewinds (uses MAX, not LAST)
   - Updated from ANY event with currentTime
   - Used for completionPercentage

3. **Peter's Scenario Answer**
   - Actual watch: 60 seconds (30 + 30)
   - Counted watch: 30 seconds (only first segment)
   - Max position: 30 seconds (highest reached before rewind)
   - Missing: 30 seconds after resume (no closing event)

4. **To Fix This**
   - Add heartbeat events (every 30s)
   - Add beforeunload handler
   - Or accept conservative estimates

Does this visualization help clarify the concept? ğŸ¯
